# Generate Notes Application

A full-stack application for generating professional clinical notes based on user-submitted form data. This project consists of a **Next.js** frontend and a **FastAPI** backend, designed for simplicity in local development.

The core functionality of creating AI generated notes does not work. I was unfamiliar with Python environment set up, as well as OpenAI APIs. I spent a good chunk of time trying to get these set up.

## App Entry Points
### [/note-generator](localhost:3000/note-generator)
### [/all-notess](localhost:3000/all-notes)


## Sources
 - A lot of ChatGPT for backend. Super unfamiliar with FastAPI so I used ChatGPT to generate most of it.
   - Spent probably an 1 - 1.5 hours trying to get my Python environment working properly ðŸ’€ I'm a Node guy
 - Some ChatGPT for the frontend as well. Got tripped up with the new NextJS AppRouter so had to do some on the fly learning.
 - OpenAI documentation
 - Google for a list of types of therapy
---

## Features

- **Frontend**:
  - `NoteGeneratorForm` to submit `FormData` for generating notes.
     - State is handled here for the form, rather than root level. We pass what we need to the child components.
  - `GeneratedNotes` component to display generated notes and allow regeneration.
  - `ListOfNotes` component to manage observation notes. 
     - I included functionality to edit and remove the short form notes in case the user wants to make adjustments before sending to the AI to generate notes
  - Clean UI with reusable components.

- **Backend**:
  - `/generateNotes` endpoint: Sends `FormData` to OpenAI for generating clinical notes.
  - `/saveNotes` endpoint: Saves generated notes to an SQLite database.
  - `/getAllNotes` endpoint: Fetches all notes stored in the database.

---

## Frontend Design Details

### App Structure

1. **`/note-generator`**:
   - Contains the main form for submitting `FormData` and displays components like `GeneratedNotes` and `ListOfNotes`.

1. **`/all-notes`**:
   - Fetches and displays all notes from the database.


2. **Components**:
   - **`InputField`**:
     - A reusable component for text and date input fields.
   - **`TextAreaField`**:
     - A reusable component for multiline text input.
   - **`SelectField`**:
     - A reusable component for dropdown fields.
   - **`ListOfNotes`**:
     - Displays a scrollable list of observation notes with edit and delete functionality.
   - **`GeneratedNotes`**:
     - Displays the notes generated by OpenAI and provides a "Regenerate" button to fetch new notes.

---

## Backend Design Details

### SQLite for Local Development

SQLite was chosen for the backend database due to its simplicity and minimal setup requirements. Unlike PostgreSQL or other databases, SQLite:
- Requires no server configuration.
- Stores data in a single file (`notes.db`), making it ideal for quick local development.
- Provides compatibility with SQLAlchemy for defining models and querying data.

### Endpoints

1. **`POST /generateNotes`**:
   - Accepts `FormData` and sends the `observationNotes` to OpenAI's API to generate clinical notes.
   - Returns the generated notes as a response.

2. **`POST /saveNotes`**:
   - Saves generated notes to the `generate_notes` table in the SQLite database.
   - Accepts:
     ```json
     {
       "therapist": "Dr. John Doe",
       "patient": "Jane Smith",
       "date": "2025-01-10T10:00:00",
       "notes": "Generated clinical notes..."
     }
     ```

3. **`GET /getAllNotes`**:
   - Fetches all notes stored in the `generate_notes` table.
   - Response format:
     ```json
     {
       "notes": [
         {
           "id": 1,
           "therapist": "Dr. John Doe",
           "patient": "Jane Smith",
           "date": "2025-01-10T10:00:00",
           "notes": "Generated clinical notes..."
         }
       ]
     }
     ```

---

## Improvements

1. **Fix Bug to Generate Notes**:
   - Debug the issue encountered during the `/generateNotes` POST request. I'm unfamiliar with NextJS latest features like AppRouter, which made handling requests and responses tricky. I should have just approached barebones with Fetch API rather than built in features to get the job done.

2. **Get More Familiar with Python and FastAPI**:
   - Invest time learning Python's syntax and FastAPI's features. I should have researched or built a dummy project earlier.

3. **Get More Familiar with OpenAI API**:
   - Explore the OpenAI documentation and test API functionality to better understand how to customize the note generation process.

4. **Date and Time**
   - Save the Date and Time from the frontend in ISO format. This will can help us structure the data to be queried later on.

5. **Include testing**
   - Create unit tests for the application, probably with Jest. For Python, I would need to research testing frameworks.
   - I would also like to include UI testing with something like Cypress

5. **Use a more robust database** 
   - If we were to deploy in the cloud, we would probably want to use something like PostgreSQL or even a NoSQL database like MongoDB since we're dealing with documents.


# 
# Original Documentation
# Alpaca Health Software Engineering Take-Home Project

### Project Description

Visit this link for details:
[https://harviio.notion.site/Alpaca-Health-Eng-Take-home-Project-1411bfc50b90803382d4cae01f9bcf18?pvs=4](https://www.notion.so/harviio/ABA-Session-Note-Generator-Take-Home-Project-1411bfc50b90803382d4cae01f9bcf18?pvs=4)

## Setup Instructions

### Backend Setup (Python 3.11+ required)

```bash
# Create and activate virtual environment
python -m venv alpaca_venv
source alpaca_venv/bin/activate  # or `venv\Scripts\activate` on Windows

# Install dependencies
pip install -r requirements.txt

# Start the server
fastapi dev main.py
```

### Frontend Setup (Node.js 18+ required)

```bash
# Navigate to frontend directory
cd frontend

# Install dependencies
npm install

# Start the development server
npm run dev
```

The application will be available at:

- Frontend: http://localhost:3000
- Backend API: http://localhost:8000
- API Documentation: http://localhost:8000/docs

## Default Project Structure

- `frontend/`: Next.js application
  - `src/components/`: Reusable React components
  - `src/app/`: Next.js app router pages
- `backend/`: FastAPI application
  - `app/main.py`: API endpoints

## Development

- Frontend runs on port 3000 with hot reload enabled
- Backend runs on port 8000 with auto-reload enabled
- API documentation available at http://localhost:8000/docs

## Submission

1. Create a private GitHub repository
2. Implement your solution
3. Document any assumptions or trade-offs
4. Include instructions for running your solution
5. Send us the repository link

## Time Expectation

- Expected time: 3-4 hours
- Please don't spend more than 6 hours

## Evaluation Criteria

| Category | Details | Weight |
|----------|---------|--------|
| Product sense and scoping | - Final product decisions alignment with requirements<br>- Appropriate deprioritization of non-crucial parts | 10% |
| Technology selection | - Right tools chosen for the job | 10% |
| Technical Level | - Well-organized and intuitive code structure<br>- Modular code (e.g., React components used)<br>- Proper use of React hooks<br>- Good state management<br>- Correct use of useEffect hooks | 40% |
| Craft and Quality | - Usable and intuitive UI/UX<br>- Presence and severity of bugs | 20% |
| Documentation | - Clear communication of logic and technical decisions in README | 10% |
| Testing | - Presence of tests<br>- Quality and robustness of tests | 10% |
